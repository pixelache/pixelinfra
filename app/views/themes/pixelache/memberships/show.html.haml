.membership_container
  .row
    .small-12.columns
      %h2
        = t :member
        = ": #{@member.name}"
      - unless @member.twitter_name.blank?
        .twitter_link= link_to "@#{@member.twitter_name.gsub(/^\@/, '')}", "http://twitter.com/@#{@member.twitter_name.gsub(/^\@/, '')}", target: :_blank

  
    .row
      - if @member.avatar?
        .small-12.medium-6.columns
          = image_tag @member.avatar.url
      .small-12.medium-6.columns
        %h3= t :active_member_years
        = @member.memberships.sort_by(&:year).map { |y| y.year.to_s + (y.hallitus == true ? '*' : '') + (y.hallitus_alternate == true ? '**' : '') }.join(', ')
        - unless @member.memberships.to_a.delete_if{|x| x.hallitus != true && x.hallitus_alternate != true}.empty?
          %p.metadata
            = "* = " + t(:on_hallitus)
            = ", ** = " + t(:on_hallitus_alternate)
        - unless @member.bio.blank?
          .bio= auto_html(@member.bio) { simple_format; link(:target => 'blank') }
    .row
      .small-12.medium-6.columns
        - unless @member.website.blank?
          %p= link_to @member.website, @member.website, target: :_blank
        - unless @member.feed_urls.blank?
          = auto_html(@member.feed_urls) { simple_format; link(:target => 'blank') }
      .small-12.medium-6.columns
        - unless @member.posts.published.empty?
          %h3= t(:recent_posts_by, member: @member.name)
          - @member.posts.published.order("published_at DESC")[0..3].each do |post|
            .member_post  
              .title= link_to post.name, post
              .date= l post.published_at, format: :long
              .excerpt= raw truncate_html(sanitize(post.body, tags: %w{b bold strong i italic em underline u}), :length => 300)
              .read_more= link_to t(:read_more), post
          = link_to t(:see_all), user_posts_path(@member), class: [:button, :tiny, :secondary]
          
